{"version":3,"file":"resultFormatter.js","names":["toTip","tip","blockHash","block_hash","blockNumber","block_number","toScript","data","codeHash","code_hash","hashType","hash_type","args","toOutPoint","txHash","tx_hash","index","toCellOutPut","lock","type","undefined","toSearchFilter","script","outputDataLenRange","output_data_len_range","outputCapacityRange","output_capacity_range","scriptLenRange","script_len_range","blockRange","block_range","toSearchKey","scriptType","script_type","filter"],"sources":["../src/resultFormatter.ts"],"sourcesContent":["import { OutPoint, Script } from \"@ckb-lumos/base\";\nimport type * as IndexerType from \"./indexerType\";\nimport type * as RPCType from \"./rpcType\";\nimport { SearchFilter, SearchKey } from \"./type\";\n\nconst toTip = (tip: RPCType.Tip): IndexerType.Tip => ({\n  blockHash: tip.block_hash,\n  blockNumber: tip.block_number,\n});\nconst toScript = (data: RPCType.Script): Script => ({\n  codeHash: data.code_hash,\n  hashType: data.hash_type,\n  args: data.args,\n});\nconst toOutPoint = (data: RPCType.OutPoint): OutPoint => ({\n  txHash: data.tx_hash,\n  index: data.index,\n});\nconst toCellOutPut = (data: RPCType.CellOutput): IndexerType.CellOutput => ({\n  ...data,\n  lock: toScript(data.lock),\n  type: data.type ? toScript(data.type) : undefined,\n});\n\nconst toSearchFilter = (data: RPCType.SearchFilter): SearchFilter => {\n  return {\n    script: data.script ? toScript(data.script) : data.script,\n    outputDataLenRange: data.output_data_len_range,\n    outputCapacityRange: data.output_capacity_range,\n    scriptLenRange: data.script_len_range,\n    blockRange: data.block_range,\n  };\n};\n\nconst toSearchKey = (data: RPCType.SearchKey): SearchKey => ({\n  script: toScript(data.script),\n  scriptType: data.script_type,\n  filter: data.filter ? toSearchFilter(data.filter) : data.filter,\n});\n\nexport {\n  toTip,\n  toScript,\n  toOutPoint,\n  toCellOutPut,\n  toSearchKey,\n  toSearchFilter,\n};\n"],"mappings":";;;;;;;AAKA,MAAMA,KAAK,GAAIC,GAAD,KAAwC;EACpDC,SAAS,EAAED,GAAG,CAACE,UADqC;EAEpDC,WAAW,EAAEH,GAAG,CAACI;AAFmC,CAAxC,CAAd;;;;AAIA,MAAMC,QAAQ,GAAIC,IAAD,KAAmC;EAClDC,QAAQ,EAAED,IAAI,CAACE,SADmC;EAElDC,QAAQ,EAAEH,IAAI,CAACI,SAFmC;EAGlDC,IAAI,EAAEL,IAAI,CAACK;AAHuC,CAAnC,CAAjB;;;;AAKA,MAAMC,UAAU,GAAIN,IAAD,KAAuC;EACxDO,MAAM,EAAEP,IAAI,CAACQ,OAD2C;EAExDC,KAAK,EAAET,IAAI,CAACS;AAF4C,CAAvC,CAAnB;;;;AAIA,MAAMC,YAAY,GAAIV,IAAD,KAAuD,EAC1E,GAAGA,IADuE;EAE1EW,IAAI,EAAEZ,QAAQ,CAACC,IAAI,CAACW,IAAN,CAF4D;EAG1EC,IAAI,EAAEZ,IAAI,CAACY,IAAL,GAAYb,QAAQ,CAACC,IAAI,CAACY,IAAN,CAApB,GAAkCC;AAHkC,CAAvD,CAArB;;;;AAMA,MAAMC,cAAc,GAAId,IAAD,IAA8C;EACnE,OAAO;IACLe,MAAM,EAAEf,IAAI,CAACe,MAAL,GAAchB,QAAQ,CAACC,IAAI,CAACe,MAAN,CAAtB,GAAsCf,IAAI,CAACe,MAD9C;IAELC,kBAAkB,EAAEhB,IAAI,CAACiB,qBAFpB;IAGLC,mBAAmB,EAAElB,IAAI,CAACmB,qBAHrB;IAILC,cAAc,EAAEpB,IAAI,CAACqB,gBAJhB;IAKLC,UAAU,EAAEtB,IAAI,CAACuB;EALZ,CAAP;AAOD,CARD;;;;AAUA,MAAMC,WAAW,GAAIxB,IAAD,KAAyC;EAC3De,MAAM,EAAEhB,QAAQ,CAACC,IAAI,CAACe,MAAN,CAD2C;EAE3DU,UAAU,EAAEzB,IAAI,CAAC0B,WAF0C;EAG3DC,MAAM,EAAE3B,IAAI,CAAC2B,MAAL,GAAcb,cAAc,CAACd,IAAI,CAAC2B,MAAN,CAA5B,GAA4C3B,IAAI,CAAC2B;AAHE,CAAzC,CAApB"}