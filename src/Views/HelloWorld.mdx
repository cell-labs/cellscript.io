import TextLayout from "../components/TextLayout/TextLayout";

import Slogan from '../assets/img/slogan.png'
import WhiteBoard from '../assets/img/whiteboard.png'
import GoImg from '../assets/img/go.png'
import Test from '../assets/img/test.png'
import ResultImg from '../assets/img/result.png'
import ProcessImg from '../assets/img/process.png'
import MarginContainer from "../components/MarignContainer/MarginContainer";

# Hello Cell Script !

<MarginContainer bottom={32} />

Cell Script is a new designed statically-typed programming language for smart contracts running on UTXO-based chain CKB.

<MarginContainer bottom={16} />

By using Cell Script, any developer can start the jounery of CKB smart contracts in minutes. 

<MarginContainer bottom={16} />

The Cell Script spec can be found [here](https://github.com/cell-labs/cell-script/blob/main/SPEC.md)

More details about CKB, can be find [here](https://www.nervos.org/ckbpage)

<MarginContainer bottom={64} />

# Example

Here is a sample code used to express **xUDT** on CKB.

```
import "debug"
import "tx"
import "cell"

function main() {
    // tx.scriptVerify()
    if tx.isOwnerMode() {
        return 0 
    }

    in_sum, out_sum := 0, 0

    for input := range tx.inputs() {
        in_sum += input
    }

    for output := range tx.outputs() {
        out_sum += output
    }

    if in_sum < out_sum {
        debug.Printf("Invalid Amount")
        return 1
    }
    
    return 0
}
```

<MarginContainer bottom={64} />

# How to get start from sourcecode

<MarginContainer bottom={16} />

Install the packages following below commands

```bash
brew install go@1.22
brew install antlr@4
brew install openjdk@21
brew install llvm@16
brew tap riscv-software-src/riscv
brew install riscv-tools
export PATH=/opt/homebrew/bin:$PATH
brew install --cask spike
```

Install **ckb-debugger** for furture debug
```bash
cargo install --git https://github.com/nervosnetwork/ckb-standalone-debugger ckb-debugger
```

Build the compiler by running below command

```
make build
source install.sh
```

you will find the compiler **cell** in **output** folder. 

Try to run the following comamnd
```
./output/cell
```

you will get below result

```
2024/04/04 00:41:49 No file specified. Usage: ./output/cell path/to/file.cell
```

It means you get the correct compiler. Next step, you need compile the contract with debug flag **-d**

```
./output/cell -d -t riscv tests/examples/helloworld.cell
```

Run the **ckb vm debugger** to test the program following below commands

```bash
ckb-debugger --bin helloworld
```

you will get the result like below 

```
hello world! 0
Run result: 0
Total cycles consumed: 8014(7.8K)
Transfer cycles: 5094(5.0K), running cycles: 2920(2.9K)
```

<MarginContainer bottom={64} />

# How to get involved!

<MarginContainer bottom={16} />

Cell Script is borned in a Hacker House hosted by [Rebase Community]() and [Nervos CKB](). Right now, it's quite young, and needs help from the community.

<MarginContainer bottom={16} />

If you are glad to contribute or get involved, please fire your issue or ideas in github repo. Here is the [repo](https://github.com/cell-labs/cell-script)


<br/>
<br/>
